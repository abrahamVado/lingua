{# templates/pds-avisos_normativos.html.twig #}
{#
  Theme hook: pds_avisos_normativos
  Vars:
    - title: string
    - fondos: [
        { url?: string, title: string, description?: string },
        ...
      ]
    - icon_url: string
    - arrow_url: string
#}

{% set has_fondos = fondos is iterable and fondos|length > 0 %}

<section class="principal-avisos_normativos">
  <div class="container">
    {% if title %}
      <h2>{{ title|raw }}</h2>
    {% endif %}

    <div class="principal-row-container">
      {% if has_fondos %}
        {% for item in fondos %}
          <article class="normativa-column">
            <span class="vinyeta" aria-hidden="true"></span>
            <div class="normativa-info">
              {% if item.title %}
                <h4>{{ item.title }}</h4> 
              {% endif %}
              {% if item.description %}
                <h3>{{ item.description }}</h3> {# or: {{ item.description|raw }} #}
              {% endif %}

              {% if item.url is defined and item.url %}
                <div class="button-area">
                  <a
                    class="principal-link principal-link--subtle"
                    href="{{ item.url }}"
                    target="_blank"
                    rel="noopener"
                  >
                    <span>{{ 'Ir a detalle'|t }}</span>
                  </a>
                </div>
              {% endif %}
            </div>
          </article>
        {% endfor %}
      {% else %}
        <p class="principal-avisos_normativos__empty">{{ 'No hay avisos_normativos disponibles.'|t }}</p>
      {% endif %}
    </div>
  </div>
</section>
